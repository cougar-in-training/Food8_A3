<!DOCTYPE html>
<html lang="da">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Food 8 - inspiration</title>
	<link rel="stylesheet" href="stylesheet.css">

	<link rel="apple-touch-icon" sizes="180x180" href="img/icon/apple-touch-icon.png">
	<link rel="icon" type="image/png" sizes="32x32" href="img/icon/favicon-32x32.png">
	<link rel="icon" type="image/png" sizes="16x16" href="img/icon/favicon-16x16.png">
	<link rel="manifest" href="img/icon/site.webmanifest">
	<link rel="mask-icon" href="img/icon/safari-pinned-tab.svg" color="#5bbad5">
	<link rel="shortcut icon" href="img/icon/favicon.ico">
	<meta name="msapplication-config" content="img/icon/browserconfig.xml">
	<meta name="theme-color" content="#ffffff">
	<meta name="description" content="Food8 Københavns virtuelle food court - restauranter, spisesteder, vinbarer og andre madbutikker. Vi ønsker at inspirere til nye sanselige madoplevelser, ved hjælp af inspirerende indlæg og guides." />

</head>
<header id="header" data-header></header>

<body>
	<button id="usynlig_btn"></button>
	<a href="booking.html"><button id="usynlig2_btn"></button></a>
	<div class="popup">
		<div class="popup_content">
			<button class="single_btn"></button>
			<h2 class="single_titel" data-singletitel>Tilmeld dig Nyhedsbrev</h2>
			<div class="single_info">
				<form action="nyhedsbrev.php">
					<p class="grid_nyhed">
						<label id="fornavn">Navn</label>
						<input type="text" name="fornavn" class="fornavn" placeholder="Skriv dit fulde navn her" required> </p>

					<p class="grid_nyhed">
						<label id="email">Email</label>
						<input type="email" name="email" class="email" placeholder="Skriv din e-mail her" required></p>


					<!--<label class="container">Ja tak, jeg vil gerne modtage nyhedsbrev
					<input type="checkbox" name="jaTak" value="tilmeld">
					<span class="checkmark"></span>
					</label>-->
					<input type="submit" data-submitNyhed>
				</form>
			</div>
		</div>
		<div id="tilmeldt_nyhedsbrev" data-tilmeldingModtaget>
			<h1 class="h1_nyhed">Tak for din tilmelding</h1>
			<p class="p_nyhed">
				Vi er glade for at du gerne vil høre mere om de spændende begivenheder her på Food8.<br> Du vil modtage vores nyhedsbrev hver onsdag 11:45<br><br> Med venlig hilsen<br> Food8

			</p>

		</div>
	</div>


	<h1 id="nyesteOpslag">Inspiration</h1>

	<!--
	<div data-restaurantItemModtager class="modtager">

	</div>
-->



	<!--
<div class="forsideBox">
		<div id="forsideForhandler" class="imgcontainer">
			<a href="forhandlere.html" alt=""><img src="">
				<h2 id="forsidetekst" class="top">Nyhed</h2>
			</a>
		</div>

		<div id="forsideInspiration" class="imgcontainer">
			<a href="inspiration.html" alt=""><img src="">
				<h2 id="forsidetekst" class="ned">Alle</h2></a>
		</div>

		<div id="forsideRestaurant" class="imgcontainer">
			<a href="restauranter.html" alt=""><img src="">
				<h2 id="forsidetekst" class="tilSide">Guide</h2>
				</a>
		</div>
</div>
-->
	<div class="restaurants-container">
		<div class="filters">
			<a href="">Guide</a>
			<a href="">Nyhed</a>
		</div>
	</div>


	<h2 id="opslag" class="alleOpslag">Se alle opslag</h2>
	<section id="alleOpslag" class="modtager" data-opslagModtager>

	</section>

	<template id="opslagTemplate" data-opslagTemplate>
	<article>
		<a href="" data-linkOpslag>
			<p class="tekstOpslag" data-opslagTekst>nyhed/guide tekst</p>
			 <img class="alleOpslagImg" src="" alt="" data-alleOpslagImg>
			<h3 data-inspirationType></h3>
		</a>

		</article>




	</template>

	<footer id="footer" class="footer_grid" data-footer></footer>



	<script src="header.js"></script>
	<script src="footer.js"></script>
	<script>
		let modtager = document.querySelector("[data-opslagModtager]"); //div der skal modtage elementer
		let template = document.querySelector("#opslagTemplate"); //mit template tag i HTML
		document.addEventListener("DOMContentLoaded", hentJson);

		async function hentJson() {
			console.log("hej");
			let jsonObjekt = await fetch("http://josefinerasch.dk/kea/07-cms/food8/wordpress/wp-json/wp/v2/inspiration");
			//vis objekt som Json
			inspiration = await jsonObjekt.json();

			inspirationOpslag();
		}

		function inspirationOpslag() {


			inspiration.forEach(element => {
				let klon = template.cloneNode(true).content;
				console.log(klon);
				klon.querySelector("[data-linkOpslag]").href = "inspiration_single.html?id=" + element.id;
				klon.querySelector("[data-alleOpslagImg]").src = element.acf.billede;
				klon.querySelector("[data-inspirationType]").innerHTML = element.acf.type;
				klon.querySelector("[data-opslagTekst]").innerHTML = element.title.rendered;

				document.querySelector("#alleOpslag").appendChild(klon);
			});
		}

	</script>
</body>

</html>
