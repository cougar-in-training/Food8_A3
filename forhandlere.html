<!DOCTYPE html>
<html lang="da">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Forhandlere</title>
	<link rel="stylesheet" href="stylesheet.css">

	<link rel="apple-touch-icon" sizes="180x180" href="img/icon/apple-touch-icon.png">
	<link rel="icon" type="image/png" sizes="32x32" href="img/icon/favicon-32x32.png">
	<link rel="icon" type="image/png" sizes="16x16" href="img/icon/favicon-16x16.png">
	<link rel="manifest" href="img/icon/site.webmanifest">
	<link rel="mask-icon" href="img/icon/safari-pinned-tab.svg" color="#5bbad5">
	<link rel="shortcut icon" href="img/icon/favicon.ico">
	<meta name="msapplication-config" content="img/icon/browserconfig.xml">
	<meta name="theme-color" content="#ffffff">
	<meta name="description" content="Food8 Københavns virtuelle food court - restauranter, spisesteder, vinbarer og andre madbutikker. Her finder du vinhandlere, slagterbutikker og andre inspirerende butikker" />

</head>

<header id="header" data-header>

</header>

<body>
	<button id="usynlig_btn"></button>
	<a href="booking.html"><button id="usynlig2_btn"></button></a>

	<div class="popup">
		<div class="popup_content">
			<button class="single_btn"></button>
			<h2 class="single_titel" data-singletitel>Tilmeld dig Nyhedsbrev</h2>
			<div class="single_info">
				<form action="nyhedsbrev.php">
					<p class="grid_nyhed">
						<label id="fornavn">Navn</label>
						<input type="text" name="fornavn" class="fornavn" placeholder="Skriv dit fulde navn her" required> </p>

					<p class="grid_nyhed">
						<label id="email">Email</label>
						<input type="email" name="email" class="email" placeholder="Skriv din e-mail her" required></p>


					<!--<label class="container">Ja tak, jeg vil gerne modtage nyhedsbrev
					<input type="checkbox" name="jaTak" value="tilmeld">
					<span class="checkmark"></span>
					</label>-->
					<input type="submit" data-submitNyhed>
				</form>
			</div>
		</div>
		<div id="tilmeldt_nyhedsbrev" data-tilmeldingModtaget>
			<h1 class="h1_nyhed">Tak for din tilmelding</h1>
			<p class="p_nyhed">
				Vi er glade for at du gerne vil høre mere om de spændende begivenheder her på Food8.<br> Du vil modtage vores nyhedsbrev hver onsdag 11:45<br><br> Med venlig hilsen<br> Food8

			</p>

		</div>
	</div>



	<main>
		<div class="restaurants-container">
			<h1>Søgeord</h1>
			<section class="filters" id="emner" data-enmer>
				<a href="" id="emne_knap1" class="emne_btn" data-emneKnap1>Økologisk</a>
				<a href="" id="emne_knap2" class="emne_btn" data-emneKnap2>Biodynamisk</a>
				<a href="" id="emne_knap3" class="emne_btn" data-emneKnap3>Vin</a>
				<a href="" id="emne_knap4" class="emne_btn" data-emneKnap4>Fisk</a>
			</section>
		</div>
		<section class=modtager data-modtager></section>

		<template id="forhandler_template" data-forhandlerTemplate>
		<div data-restaurants-grid-item-container class="restaurants-grid-item-container">
			<article>
				<a href="" data-link>
				<h2 id="forhandler_navn" data-forhandlerNavn></h2>
				<img src="" data-coverbillede></a>
			</article>
            </div>
		</template>

	</main>
	<footer id="footer" class="footer_grid" data-footer></footer>

	<script src="footer.js"></script>
	<script src="header.js"></script>

	<script>
		let forhandler;
		let template = document.querySelector("[data-forhandlerTemplate]");

		document.addEventListener("DOMContentLoaded", hentJson);

		async function hentJson() {
			//hent json
			let jsonObject = await fetch("http://josefinerasch.dk/kea/07-cms/food8/wordpress/wp-json/wp/v2/forhandler");
			//vis objekt som json
			forhandler = await jsonObject.json();
			visForhandlere();

		}
		//lav klon af template
		function visForhandlere() {
			forhandler.forEach(element => {
				let klon = template.cloneNode(true).content;
				klon.querySelector("[data-link]").href = "forhandler_single.html?id=" + element.id;
				klon.querySelector("[data-coverbillede]").src = element.acf.coverbillede;
				klon.querySelector("[data-forhandlerNavn]").textContent = element.acf.navn_pa_forhandler;
				document.querySelector("[data-modtager]").appendChild(klon);
			})
		}

	</script>
</body>

</html>
