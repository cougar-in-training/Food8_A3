<!DOCTYPE html>
<html lang="da">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Event single</title>
	<link rel="stylesheet" href="stylesheet.css">

	<link rel="apple-touch-icon" sizes="180x180" href="img/icon/apple-touch-icon.png">
	<link rel="icon" type="image/png" sizes="32x32" href="img/icon/favicon-32x32.png">
	<link rel="icon" type="image/png" sizes="16x16" href="img/icon/favicon-16x16.png">
	<link rel="manifest" href="img/icon/site.webmanifest">
	<link rel="mask-icon" href="img/icon/safari-pinned-tab.svg" color="#5bbad5">
	<link rel="shortcut icon" href="img/icon/favicon.ico">
	<meta name="msapplication-config" content="img/icon/browserconfig.xml">
	<meta name="theme-color" content="#ffffff">
</head>
<header id="header" data-header></header>

<body>


	<main class="eventContainer">
		<article>
			<a href="" data-single id="a_grid_single">
				<div id="event_single">
					<!--					<h2 id="eventsTitle" data-eventsTitle></h2>-->
					<h2 id="eventsArrangør" data-eventsArrangør></h2>
				</div>

				<div id="event_img_single"><img src="" data-eventImage id="eventImageSingle"></div>

				<div id="event_text_single" style="grid-column: 1/span 2;">
					<div id="single_beskrivelse">
						<p data-eventsBeskrivelse></p>
					</div>
					<div id="single_info">
						<p data-dato></p>
						<p data-tidspunkt></p>
						<p data-adresse></p>
					</div>

				</div>
				<div id="kob_billet_event">
					<p data-billet></p>
					<button id="kob_knap" class="kob_btn" data-kobknap>Køb Billet</button>
				</div>

			</a>
		</article>
	</main>
	<footer id="footer" class="footer_grid" data-footer></footer>
	<script src="footer.js"></script>
	<script src="header.js"></script>


	<script>
		document.addEventListener("DOMContentLoaded", hentEventJson);

		async function hentEventJson() {
			// let urlParams = new URLSearchParams(window.location.search);
			// let id = urlParams.get("id");
			let url = new URL(window.location.href);
			let parameter = new URLSearchParams(url.search);
			let id = parameter.get("id");



			let jsonObject = await fetch("http://josefinerasch.dk/kea/07-cms/food8/wordpress/wp-json/wp/v2/arrangement/" + id);

			let singleEvent = await jsonObject.json();

			//			document.querySelector("[data-eventsTitle]").innerHTML = singleEvent.title.rendered;

			console.log(singleEvent);
			document.querySelector("[data-eventsArrangør]").textContent = singleEvent.acf.arrangor;

			document.querySelector("[data-eventsBeskrivelse]").innerHTML = singleEvent.acf.beskrivelse_af_arrangementet;

			document.querySelector("[data-eventImage]").src = singleEvent.acf.billede;

			document.querySelector("[data-dato]").textContent = singleEvent.acf.dato;

			document.querySelector("[data-tidspunkt]").textContent = singleEvent.acf.tidspunkt;

			document.querySelector("[data-adresse]").textContent = singleEvent.acf.adresse_hvor_arrangementet_afholdes;

			document.querySelector("[data-billet]").textContent = singleEvent.acf.kob_billet;

		}
	</script>
</body>

</html>
