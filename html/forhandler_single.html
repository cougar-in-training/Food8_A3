<!DOCTYPE html>
<html lang="">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title data-forhandlerNavn>Forhandler</title>
	<link rel="stylesheet" href="../stylesheet.css">
</head>
<header id="header" data-header>
</header>

<body>

	<main>
		<section id="modtager_single" data-modtagerSingle>
			<img src="" alt="" data-logo>
			<img src="" alt="" data-coverbillede>
			<div class="forhandler-btns">
				<a href="#gallery" class="gallery-btn"></a>
			</div>

			<article class="description">
				<h2 id="forhandler_navn" data-forhandlerNavn></h2>
				<p data-manchet></p>
				<p data-beskrivelse></p>
			</article>

			<div data-practical-info>
				<p data-opening-hours></p>
				<p data-contact></p>
				<p data-adress></p>
				<p data-hygien></p>
			</div>

			<div id="gallery-modtager" class="gallery-modtager" data-gallery-modtager></div>

		</section>
	</main>

	<footer id="footer" class="footer_grid" data-footer></footer>
	<script src="../javascript/footer.js"></script>
	<script src="../javascript/header.js"></script>

	<script>
		document.addEventListener("DOMContentLoaded", hentJson);

		async function hentJson() {
			let url = new URL(window.location.href);
			let parameter = new URLSearchParams(url.search);
			let id = parameter.get("id");

			console.log(parameter.get("id"));
			let jsonData = await fetch("http://josefinerasch.dk/kea/07-cms/food8/wordpress/wp-json/wp/v2/forhandler/" + id);
			let single = await jsonData.json();

			//console.log(document.querySelector("[data-forhandlerNavn]").textContent);

			document.querySelector("[data-logo]").src = single.acf.logo;
			document.querySelector("[data-coverbillede]").src = single.acf.coverbillede;
			document.querySelector("[data-manchet]").innerHTML = single.acf.manchet;
			document.querySelector("[data-beskrivelse]").innerHTML = single.acf.beskrivelse;
			document.querySelector("[data-opening-hours]").innerHTML = single.acf.Ã¥bningstider;
			document.querySelector("[data-contact]").innerHTML = single.acf.kontakt;
			document.querySelector("[data-adress]").innerHTML = single.acf.adresse;
			document.querySelector("[data-hygien]").textContent = single.acf.kontrollrapport;
			document.querySelector("[data-forhandlerNavn]").textContent = single.acf.navn_pa_forhandler;
		}
	</script>

	<!--<script src="../javascript/footer.js"></script>
	<script src="../javascript/header.js"></script>-->
</body>

</html>
